"use strict";(self.webpackChunkpolity=self.webpackChunkpolity||[]).push([[592],{4593:(f,c,r)=>{r.d(c,{g:()=>S});var a=r(5861),_=r(19),E=r(5813),n=r(2340),t=r(4650),h=r(6469),l=r(4576),O=r(1992),M=r(5608),D=r(6943),P=r(7607);let S=(()=>{class i{constructor(e,o,u,s,p,C,d){this.persistStorage=e,this.authentificationStore=o,this.profileStore=u,this.groupStore=s,this.newsStore=p,this.chatStore=C,this.chatRoomStore=d,this.supabaseClient=(0,E.eI)(n.N.supabaseUrl,n.N.supabaseKey)}signIn(e,o){var u=this;return(0,a.Z)(function*(){const s=yield u.supabaseClient.auth.signIn({email:e,password:o});if(s.error)throw new Error(s.error.message);u.authentificationStore.update({sessionResponse:s,uuid:s.user?.id})})()}signOut(){var e=this;return(0,a.Z)(function*(){const o=yield e.supabaseClient.auth.signOut();if(e.supabaseClient.removeAllSubscriptions(),e.authentificationStore.reset(),e.profileStore.reset(),e.groupStore.reset(),e.groupStore.ui.reset(),e.groupStore.resetUIStore(),e.profileStore.resetUIStore(),e.newsStore.reset(),e.chatRoomStore.reset(),e.chatStore.reset(),(0,_.W_)(),e.persistStorage.clear(),o.error)throw new Error(o.error.message)})()}signUp(e){var o=this;return(0,a.Z)(function*(){const u=e.email,s=e.password,p=yield o.supabaseClient.auth.signUp({email:u,password:s});if(p.error)throw new Error(p.error.message)})()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG("persistStorage"),t.LFG(h.q),t.LFG(l.s),t.LFG(O.M),t.LFG(M.W),t.LFG(D.w),t.LFG(P.n))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},7607:(f,c,r)=>{r.d(c,{n:()=>t});var a=r(655),_=r(19),E=r(4650);let t=class extends _.yh{constructor(){super({messages:[]})}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=E.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t=(0,a.gn)([(0,_.yC)({name:"chat-room",resettable:!0})],t)},6943:(f,c,r)=>{r.d(c,{w:()=>t});var a=r(655),_=r(19),E=r(4650);const n={ui:{filters:{name:!1}}};let t=class extends _.cf{constructor(){super(n)}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=E.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t=(0,a.gn)([(0,_.yC)({name:"chat",resettable:!0})],t)}}]);