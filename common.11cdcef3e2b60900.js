"use strict";(self.webpackChunkpolity=self.webpackChunkpolity||[]).push([[592],{4593:(f,c,e)=>{e.d(c,{g:()=>C});var a=e(5861),_=e(19),E=e(3187),n=e(2340),t=e(4650),h=e(6469),l=e(4576),O=e(1992),M=e(5608),P=e(6943),D=e(7607);let C=(()=>{class i{constructor(r,o,u,s,p,v,S){this.persistStorage=r,this.authentificationStore=o,this.profileStore=u,this.groupStore=s,this.newsStore=p,this.chatStore=v,this.chatRoomStore=S,this.supabaseClient=(0,E.eI)(n.N.supabaseUrl,n.N.supabaseKey)}signIn(r,o){var u=this;return(0,a.Z)(function*(){const s=yield u.supabaseClient.auth.signInWithPassword({email:r,password:o});if(s.error)throw new Error(s.error.message);u.authentificationStore.update({sessionResponse:s,uuid:s.data.user?.id})})()}signOut(){var r=this;return(0,a.Z)(function*(){const o=yield r.supabaseClient.auth.signOut();if(o.error)throw new Error(o.error.message);r.supabaseClient.removeAllChannels(),r.authentificationStore.reset(),r.profileStore.reset(),r.groupStore.reset(),r.groupStore.ui.reset(),r.groupStore.resetUIStore(),r.profileStore.resetUIStore(),r.newsStore.reset(),r.chatRoomStore.reset(),r.chatStore.reset(),(0,_.W_)(),r.persistStorage.clear()})()}signUp(r){var o=this;return(0,a.Z)(function*(){const u=r.email,s=r.password,p=yield o.supabaseClient.auth.signUp({email:u,password:s});if(p.error)throw new Error(p.error.message)})()}}return i.\u0275fac=function(r){return new(r||i)(t.LFG("persistStorage"),t.LFG(h.q),t.LFG(l.s),t.LFG(O.M),t.LFG(M.W),t.LFG(P.w),t.LFG(D.n))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},7607:(f,c,e)=>{e.d(c,{n:()=>t});var a=e(655),_=e(19),E=e(4650);let t=class extends _.yh{constructor(){super({messages:[]})}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=E.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t=(0,a.gn)([(0,_.yC)({name:"chat-room",resettable:!0})],t)},6943:(f,c,e)=>{e.d(c,{w:()=>t});var a=e(655),_=e(19),E=e(4650);const n={ui:{filters:{name:!1}}};let t=class extends _.cf{constructor(){super(n)}};t.\u0275fac=function(l){return new(l||t)},t.\u0275prov=E.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t=(0,a.gn)([(0,_.yC)({name:"chat",resettable:!0})],t)}}]);